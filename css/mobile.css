/* 
 * Kings Electrical - Mobile Responsive Enhancements
 * This file contains additional mobile-specific styles to improve the site's
 * responsiveness on smaller screens.
 */

/* Global Mobile Adjustments */
@media (max-width: 768px) {
    /* Typography adjustments */
    h1 {
        font-size: 2rem !important;
        line-height: 1.2 !important;
    }
    
    h2 {
        font-size: 1.6rem !important;
        line-height: 1.3 !important;
    }
    
    h3 {
        font-size: 1.3rem !important;
    }
    
    p {
        font-size: 0.95rem !important;
    }
    
    /* Container padding */
    .container {
        padding-left: 15px !important;
        padding-right: 15px !important;
    }
    
    /* Button sizing */
    .btn {
        padding: 10px 20px !important;
        font-size: 0.9rem !important;
    }
    
    /* Section padding */
    .section-padding {
        padding: 40px 0 !important;
    }
    
    /* Hero section adjustments */
    .hero-section {
        padding: 60px 0 !important;
        text-align: center !important;
    }
    
    .hero-section h1 {
        margin-bottom: 15px !important;
    }
    
    /* Footer adjustments */
    .footer-grid {
        grid-template-columns: 1fr !important;
        gap: 30px !important;
    }
    
    .footer-bottom {
        flex-direction: column !important;
        text-align: center !important;
    }
    
    .footer-links {
        margin-top: 15px !important;
        justify-content: center !important;
    }
    
    /* Form elements */
    input, select, textarea {
        font-size: 16px !important; /* Prevents iOS zoom on focus */
    }

    /* Service Page Content Optimization */
    .service-section {
        padding: 40px 0 !important;
    }

    .service-grid {
        grid-template-columns: 1fr !important;
        gap: 30px !important;
    }

    .service-image {
        margin-bottom: 20px !important;
    }

    /* Collapsible service sections for mobile */
    .service-content {
        position: relative !important;
    }

    .service-content h2 {
        cursor: pointer !important;
        padding-right: 30px !important;
        position: relative !important;
    }

    .service-content h2:after {
        content: '+' !important;
        position: absolute !important;
        right: 0 !important;
        top: 0 !important;
        font-size: 1.5rem !important;
        color: var(--primary-color) !important;
        transition: transform 0.3s ease !important;
    }

    .service-content.active h2:after {
        content: '-' !important;
    }

    .service-content p:first-of-type {
        display: block !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        display: -webkit-box !important;
        -webkit-line-clamp: 2 !important;
        -webkit-box-orient: vertical !important;
        margin-bottom: 10px !important;
    }

    .service-content p:not(:first-of-type),
    .service-content ul,
    .service-content .btn {
        display: none !important;
    }

    .service-content.active p {
        display: block !important;
        -webkit-line-clamp: unset !important;
        overflow: visible !important;
    }

    .service-content.active ul,
    .service-content.active .btn {
        display: block !important;
    }

    /* Process steps optimization */
    .process-step {
        flex: 1 1 100% !important;
        max-width: 100% !important;
        margin-bottom: 20px !important;
    }

    /* Testimonials optimization */
    .testimonials-grid {
        grid-template-columns: 1fr !important;
    }

    /* FAQ optimization */
    .faq-question {
        font-size: 1rem !important;
    }

    /* Header contact adjustments */
    .header-contact {
        display: flex !important;
        align-items: center !important;
        gap: 8px !important;
    }

    .phone-number {
        font-size: 0 !important; /* Hide text */
        width: 40px !important;
        height: 40px !important;
        padding: 0 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        border-radius: 50% !important;
        background-color: var(--primary-color) !important;
        color: white !important;
    }

    .phone-number i {
        font-size: 18px !important;
        margin: 0 !important;
    }

    /* Show full number on click */
    .phone-number:active {
        font-size: 14px !important;
        width: auto !important;
        border-radius: 20px !important;
        padding: 0 15px !important;
    }

    .phone-number:active i {
        margin-right: 8px !important;
    }

    .header-contact .btn-primary {
        padding: 8px 12px !important;
        font-size: 14px !important;
    }
}

/* Small Mobile Devices (under 480px) */
@media (max-width: 480px) {
    /* Even smaller typography */
    h1 {
        font-size: 1.8rem !important;
    }
    
    h2 {
        font-size: 1.4rem !important;
    }
    
    /* Tighter padding */
    .container {
        padding-left: 12px !important;
        padding-right: 12px !important;
    }
    
    /* Stack buttons vertically */
    .cta-buttons {
        flex-direction: column !important;
        gap: 15px !important;
    }
    
    .cta-buttons .btn {
        width: 100% !important;
    }
    
    /* Adjust card layouts */
    .service-card, .project-card, .testimonial-card, .career-card {
        padding: 15px !important;
    }

    /* Header contact adjustments */
    .header-contact .btn-primary {
        padding: 8px 12px !important;
        font-size: 14px !important;
    }
}

/* Mobile Menu Improvements */
@media (max-width: 768px) {
    /* Header basics */
    .site-header {
        padding: 0.75rem 1rem !important;
    }
    
    /* Main navigation container */
    .main-nav {
        position: fixed !important;
        top: 60px !important;
        left: 0 !important;
        width: 100% !important;
        height: calc(100vh - 60px) !important;
        background-color: white !important;
        transform: translateX(-100%) !important;
        transition: transform 0.25s ease !important;
        overflow-y: auto !important;
        z-index: 999 !important;
        padding: 0 !important;
        -webkit-overflow-scrolling: touch !important;
    }
    
    .main-nav.active {
        transform: translateX(0) !important;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1) !important;
    }
    
    /* Main menu list */
    .main-nav ul {
        display: block !important;
        padding: 0 !important;
        margin: 0 !important;
        width: 100% !important;
    }
    
    /* Main menu items */
    .main-nav li {
        margin: 0 !important;
        padding: 0 !important;
        width: 100% !important;
        border-bottom: 1px solid rgba(0,0,0,0.08) !important;
    }
    
    .main-nav li:last-child {
        border-bottom: none !important;
    }
    
    /* Menu links */
    .main-nav a {
        padding: 15px 20px !important;
        display: block !important;
        font-size: 16px !important;
        font-weight: 500 !important;
        color: #333 !important;
        width: 100% !important;
        text-decoration: none !important;
    }
    
    .main-nav a:active,
    .main-nav a:hover {
        background-color: rgba(0,0,0,0.03) !important;
    }
    
    /* Dropdown menu */
    .dropdown {
        display: block !important;
        position: static !important;
        width: 100% !important;
        opacity: 1 !important;
        visibility: visible !important;
        transform: none !important;
        box-shadow: none !important;
        padding: 0 !important;
        margin: 0 !important;
        border: none !important;
        border-radius: 0 !important;
        max-height: 0 !important;
        overflow: hidden !important;
        transition: max-height 0.3s ease !important;
    }
    
    .has-dropdown:hover .dropdown,
    .has-dropdown.active .dropdown {
        max-height: 500px !important;
    }
    
    /* Dropdown items */
    .dropdown a {
        padding-left: 40px !important;
        font-size: 15px !important;
        border-top: 1px solid rgba(0,0,0,0.05) !important;
        background-color: rgba(0,0,0,0.02) !important;
    }
    
    /* Services submenu styling */
    .main-nav .has-dropdown > a {
        position: relative !important;
    }
    
    .main-nav .has-dropdown > a:after {
        content: '\f107' !important;
        font-family: 'Font Awesome 5 Free' !important;
        font-weight: 900 !important;
        position: absolute !important;
        right: 20px !important;
        transition: transform 0.3s ease !important;
    }
    
    .main-nav .has-dropdown.active > a:after {
        transform: rotate(180deg) !important;
    }
    
    /* Phone button */
    .phone-number {
        font-size: 0 !important;
        width: 40px !important;
        height: 40px !important;
        padding: 0 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        border-radius: 50% !important;
        background-color: var(--primary-color) !important;
        color: white !important;
    }
    
    .phone-number i {
        font-size: 18px !important;
        margin: 0 !important;
    }
    
    /* Active nav state */
    .main-nav a.active {
        color: var(--primary-color) !important;
        background-color: rgba(255, 107, 53, 0.05) !important;
        font-weight: 600 !important;
    }
    
    /* Menu toggle button */
    .mobile-menu-toggle {
        padding: 8px !important;
        margin-left: 10px !important;
        background: transparent !important;
        display: flex !important;
        flex-direction: column !important;
        justify-content: center !important;
        width: 40px !important;
        height: 40px !important;
        z-index: 1000 !important;
    }
    
    .mobile-menu-toggle span {
        display: block !important;
        width: 22px !important;
        height: 2px !important;
        margin: 3px 0 !important;
        background-color: #333 !important;
        transition: all 0.25s ease !important;
    }
    
    .mobile-menu-toggle.active span:first-child {
        transform: translateY(5px) rotate(45deg) !important;
    }
    
    .mobile-menu-toggle.active span:nth-child(2) {
        opacity: 0 !important;
    }
    
    .mobile-menu-toggle.active span:last-child {
        transform: translateY(-5px) rotate(-45deg) !important;
    }
    
    /* Overlay */
    .menu-overlay {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
        background: rgba(0,0,0,0.5) !important;
        z-index: 998 !important;
        opacity: 0 !important;
        visibility: hidden !important;
        transition: all 0.25s ease !important;
    }
    
    .menu-overlay.active {
        opacity: 1 !important;
        visibility: visible !important;
    }
    
    /* Header contact */
    .header-contact {
        display: flex !important;
        align-items: center !important;
        gap: 8px !important;
    }
    
    .header-contact .btn-primary {
        padding: 8px 12px !important;
        font-size: 14px !important;
    }
}

/* Smaller mobile adjustments */
@media (max-width: 480px) {
    .logo img {
        height: 32px !important;
    }
    
    .header-contact .btn-primary {
        padding: 6px 10px !important;
        font-size: 13px !important;
    }
}

/* Touch-friendly Enhancements */
@media (max-width: 768px) {
    /* Larger touch targets */
    .main-nav ul li a,
    .footer-column ul li a,
    .contact-details li a {
        padding: 10px 0 !important;
        display: inline-block !important;
    }
    
    /* Improved form elements for touch */
    input[type="checkbox"], 
    input[type="radio"] {
        width: 20px !important;
        height: 20px !important;
    }
    
    select {
        height: 48px !important;
    }
    
    /* Larger buttons for touch */
    .filter-btn, .review-filter {
        padding: 12px 24px !important;
        margin-bottom: 10px !important;
    }
}

/* Image Optimizations */
@media (max-width: 768px) {
    /* Optimize image heights */
    .project-image, 
    .career-image,
    .gallery-item img {
        height: 180px !important;
    }
    
    /* Center images */
    .testimonial-avatar {
        margin: 0 auto 15px !important;
    }
    
    /* Adjust image containers */
    .testimonial-header {
        flex-direction: column !important;
        text-align: center !important;
    }
}

/* Performance Optimizations */
@media (max-width: 768px) {
    /* Reduce animations for better performance */
    .project-card:hover,
    .testimonial-card:hover,
    .career-card:hover,
    .benefit-card:hover {
        transform: none !important;
    }
    
    .project-card:hover .project-image img,
    .career-card:hover .career-image img,
    .gallery-item:hover img {
        transform: none !important;
    }
}

/* Accessibility Improvements */
@media (max-width: 768px) {
    /* Increase contrast for better readability */
    .testimonial-text,
    .project-content p,
    .career-content p {
        color: var(--text-secondary) !important;
    }
    
    /* Larger focus indicators */
    a:focus, button:focus, input:focus, select:focus, textarea:focus {
        outline: var(--focus-outline) !important;
        outline-offset: 3px !important;
    }
}

/* Sticky Header for Mobile */
@media (max-width: 768px) {
    .site-header {
        position: sticky !important;
        top: 0 !important;
        z-index: 1000 !important;
        background: var(--white) !important;
        box-shadow: var(--box-shadow) !important;
        padding: 0.75rem 1rem !important;
    }
    
    body {
        padding-top: 0 !important;
    }
}

/* Mobile-specific Form Improvements */
@media (max-width: 768px) {
    .application-form,
    .contact-form {
        padding: 20px 15px !important;
        margin: 20px 0 !important;
    }
    
    .form-group {
        margin-bottom: 15px !important;
    }
    
    .file-upload-label {
        padding: 15px !important;
    }
    
    /* Improve form validation messages */
    .form-group .error-message {
        font-size: 0.85rem !important;
        padding: 5px 0 !important;
    }
}

/* Mobile Gallery Improvements */
@media (max-width: 768px) {
    .project-gallery {
        grid-template-columns: repeat(2, 1fr) !important;
    }
    
    @media (max-width: 480px) {
        .project-gallery {
            grid-template-columns: 1fr !important;
        }
    }
}

/* Mobile Table Styles */
@media (max-width: 768px) {
    table {
        display: block !important;
        overflow-x: auto !important;
        white-space: nowrap !important;
    }
    
    /* Responsive tables alternative */
    .responsive-table {
        border: 0 !important;
    }
    
    .responsive-table thead {
        display: none !important;
    }
    
    .responsive-table tr {
        margin-bottom: 20px !important;
        display: block !important;
        border: 1px solid #ddd !important;
    }
    
    .responsive-table td {
        display: block !important;
        text-align: right !important;
        padding: 10px !important;
        border-bottom: 1px solid #ddd !important;
    }
    
    .responsive-table td:before {
        content: attr(data-label) !important;
        float: left !important;
        font-weight: bold !important;
    }
}

/* Mobile-specific Print Styles */
@media print {
    .site-header, 
    .site-footer, 
    .cta-section,
    .mobile-menu-toggle {
        display: none !important;
    }
    
    body {
        font-size: 12pt !important;
    }
    
    a[href]:after {
        content: " (" attr(href) ")" !important;
    }
}

/* Dark Mode Support */
@media (prefers-color-scheme: dark) {
    .dark-mode-support {
        background-color: #222 !important;
        color: #f0f0f0 !important;
    }
    
    .dark-mode-support a {
        color: #FF6B35 !important;
    }
}

/* Orientation Changes */
@media (max-width: 768px) and (orientation: landscape) {
    .hero-section {
        min-height: 300px !important;
    }
    
    .main-nav.active {
        overflow-y: auto !important;
    }
}

/* iOS Specific Fixes */
@supports (-webkit-touch-callout: none) {
    /* iOS specific styles */
    .mobile-menu-toggle {
        -webkit-appearance: none !important;
        appearance: none !important;
        outline: none !important;
    }
    
    .mobile-menu-toggle span {
        -webkit-transform-origin: center !important;
        transform-origin: center !important;
    }
    
    .mobile-menu-toggle.active span:nth-child(1) {
        -webkit-transform: translateY(6px) rotate(45deg) !important;
        transform: translateY(6px) rotate(45deg) !important;
    }
    
    .mobile-menu-toggle.active span:nth-child(3) {
        -webkit-transform: translateY(-6px) rotate(-45deg) !important;
        transform: translateY(-6px) rotate(-45deg) !important;
    }
    
    .main-nav {
        -webkit-transform: translateX(-100%) !important;
        transform: translateX(-100%) !important;
        -webkit-transition: -webkit-transform 0.3s ease !important;
        transition: transform 0.3s ease !important;
        -webkit-overflow-scrolling: touch !important;
        left: 0 !important;
    }
    
    .main-nav.active {
        -webkit-transform: translateX(0) !important;
        transform: translateX(0) !important;
        left: 0 !important;
    }
    
    /* Fix 100vh issues on iOS */
    .main-nav {
        height: -webkit-fill-available !important;
        height: 100vh !important;
    }
    
    body.menu-open {
        position: fixed !important;
        width: 100% !important;
        height: 100% !important;
        overflow: hidden !important;
    }
    
    /* Force hardware acceleration for smoother animations */
    .main-nav, 
    .mobile-menu-toggle,
    .menu-overlay {
        -webkit-backface-visibility: hidden !important;
        backface-visibility: hidden !important;
        -webkit-perspective: 1000 !important;
        perspective: 1000 !important;
        -webkit-transform: translate3d(0,0,0) !important;
        transform: translate3d(0,0,0) !important;
    }
} 